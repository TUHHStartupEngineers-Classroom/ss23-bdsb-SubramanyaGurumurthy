{
  "hash": "e59a056bc4f19fe47602732b0115c040",
  "result": {
    "markdown": "---\ntitle: \"Data Wrangling\"\nauthor: \"Subramanya Nanjangud Gurumurthy\"\n---\n\n\n::: callout-note\nYou can delete everything in here and start fresh.\n:::\n\n# Data Wrangling\n\nData wrangling in R refers to the process of transforming and manipulating data to make it more suitable for analysis or further processing. It involves tasks such as cleaning, reshaping, filtering, aggregating, and merging datasets.\nData wrangling is an essential step in data analysis and is often performed using packages like dplyr and tidyr within the tidyverse ecosystem.\n\nHere are some key concepts and techniques commonly used in data wrangling in R:\n\n* Data Import: Reading data from various file formats such as CSV, Excel, or databases into R using functions like read_csv(), read_excel(), or read.table().\n\n* Data Cleaning: Handling missing values (na.omit(), complete.cases()), removing duplicates (distinct()), dealing with outliers, and correcting data inconsistencies.\n\n* Data Transformation: Modifying data structure and content using functions like mutate(), select(), filter(), and arrange() from the dplyr package. Renaming variables, creating new variables, or recoding values are common transformation tasks.\n\n* Reshaping Data: Converting data between wide and long formats using functions like pivot_longer() and pivot_wider() from the tidyr package. This is useful when dealing with data that needs to be organized differently for analysis or visualization.\n\n* Aggregating Data: Summarizing data by groups using functions like group_by() and summarize(). Calculating group-level statistics, such as means, counts, or proportions, is common in data analysis.\n\n* Merging and Joining Data: Combining multiple datasets based on common variables using functions like merge() or left_join(). This allows you to bring together different pieces of information from different sources.\n\n* Handling Dates and Times: Manipulating and extracting information from date and time variables using functions from packages like lubridate.\n\n* Data Type Conversion: Converting data types to the appropriate format, such as converting character variables to factors or numeric variables to dates.\n\nOverall, data wrangling in R involves a combination of functions and techniques to transform, clean, and reshape data in preparation for analysis. It requires a good understanding of the dataset and the available tools in R to \neffectively manage and manipulate data.\n\n# Challenge: \n\nPatents play a critical role in incentivizing innovation, without which we wouldn’t have much of the technology we rely on everyday. What does your iPhone, Google’s PageRank algorithm, and a butter substitute called Smart Balance \nall have in common? \n\n…They all probably wouldn’t be here if not for patents. A patent provides its owner with the ability to make money off of something that they invented, without having to worry about someone else copying their technology. \nThink Apple would spend millions of dollars developing the iPhone if Samsung could just come along and rip it off? Probably not.\n\nPatents offer a great opportunity for data analysis, because the data is public. PatentsView is one of USPTO’s (United States Patent and Trademark Office) new initiatives intended to increase the usability and value of patent data.\n\nPlease note, that the patent data provided by the USPTO is a very large data set that might overload your computer power. Therefore, we also provide a reduced data set that is filtered to the year 2014 only with less columns, \nso you are able to complete the task, if your computer can’t process the large original data file.\n\n## Solution: \nIn this challenge I have used reduced dataset for the year 2014. \n\n* Patent Dominance: What US company / corporation has the most patents? List the 10 US companies with the most assigned/granted patents.\n\n\n::: {.cell hash='03_data_wrangling_cache/html/unnamed-chunk-1_a2d7adfd6919a96e3f373f6729d4c9ea'}\n\n```{.r .cell-code}\n##############################################################################################\n#1st task\n##############################################################################################\n\n#using data.table\nlibrary(data.table)\n\n# Step 1: Read the asignee.tsv file\nasignee_dt <- fread(\"C:/Users/LENOVO/OneDrive/Desktop/business_module/ss23-bdsb-SubramanyaGurumurthy/Patent_data_reduced/assignee.tsv\")\n\n# Step 2: Read the patent_asignee.tsv file\npatent_asignee_dt <- fread(\"C:/Users/LENOVO/OneDrive/Desktop/business_module/ss23-bdsb-SubramanyaGurumurthy/Patent_data_reduced/patent_assignee.tsv\")\n\n# Merge the data.tables based on assignee_id\nmerged_dt <- merge(asignee_dt, patent_asignee_dt, by.x = \"id\", by.y = \"assignee_id\")\n\n# Count the number of patents for each organization\npatent_counts <- merged_dt[, .N, by = organization]\n\n# Sort the patent counts in descending order\nsorted_counts <- patent_counts[order(-N)]\n\n# Select the top 10 companies with the most patents\ntop_10_companies <- sorted_counts[1:10]\n\n# Print the result\nprint(top_10_companies)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#>                                    organization    N\n#>  1: International Business Machines Corporation 7547\n#>  2:               Samsung Electronics Co., Ltd. 5835\n#>  3:                      Canon Kabushiki Kaisha 4099\n#>  4:                            Sony Corporation 3326\n#>  5:                       Microsoft Corporation 3165\n#>  6:                                 Google Inc. 2668\n#>  7:                    Kabushiki Kaisha Toshiba 2656\n#>  8:                       QUALCOMM Incorporated 2597\n#>  9:                         LG Electronics Inc. 2459\n#> 10:                                        <NA> 2377\n```\n:::\n:::\n\n\n\n* Recent patent activity: What US company had the most patents granted in August 2014? List the top 10 companies with the most new granted patents for August 2014.\n\n\n::: {.cell hash='03_data_wrangling_cache/html/unnamed-chunk-2_b2864bceb27e8f56fdc9924afc78992c'}\n\n```{.r .cell-code}\n##############################################################################################\n# 2nd task:\n##############################################################################################\n\nlibrary(data.table)\n\n# Read the files into data.tables\nasignee_dt <- fread(\"C:/Users/LENOVO/OneDrive/Desktop/business_module/ss23-bdsb-SubramanyaGurumurthy/Patent_data_reduced/assignee.tsv\")\npatent_asignee_dt <- fread(\"C:/Users/LENOVO/OneDrive/Desktop/business_module/ss23-bdsb-SubramanyaGurumurthy/Patent_data_reduced/patent_assignee.tsv\")\npatent_dt <- fread(\"C:/Users/LENOVO/OneDrive/Desktop/business_module/ss23-bdsb-SubramanyaGurumurthy/Patent_data_reduced/patent.tsv\")\n\n# Merge the data.tables based on assignee_id\nmerged_dt <- merge(merge(asignee_dt, patent_asignee_dt, by.x = \"id\", by.y = \"assignee_id\"), patent_dt, by.x = \"patent_id\", by.y = \"id\")\n\n# Filter the merged data.table for patents granted in August 2014\naugust_2014_patents <- merged_dt[lubridate::year(date) == 2014 & lubridate::month(date) == 8]\n\n# Count the number of patents for each organization in August 2014\npatent_counts <- august_2014_patents[, .N, by = organization]\n\n# Order the counts in descending order\nordered_counts <- patent_counts[order(-N)]\n\n# Select the top 10 companies with the most new granted patents in August 2014\ntop_10_companies_in_august <- ordered_counts[1:10]\n\n# Print the result\nprint(top_10_companies_in_august)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#>                                    organization   N\n#>  1: International Business Machines Corporation 718\n#>  2:               Samsung Electronics Co., Ltd. 524\n#>  3:                      Canon Kabushiki Kaisha 361\n#>  4:                       Microsoft Corporation 337\n#>  5:                            Sony Corporation 269\n#>  6:                                 Google Inc. 240\n#>  7:                       QUALCOMM Incorporated 223\n#>  8:                                  Apple Inc. 222\n#>  9:                    Kabushiki Kaisha Toshiba 213\n#> 10:                         LG Electronics Inc. 211\n```\n:::\n:::\n\n\n* Innovation in Tech: What is the most innovative tech sector? For the top 10 companies (worldwide) with the most patents, what are the top 5 USPTO tech main classes?\n\n\n::: {.cell hash='03_data_wrangling_cache/html/unnamed-chunk-3_3f7966b6df25300409f1f6204a7b3566'}\n\n```{.r .cell-code}\n##############################################################################################\n#3rd task\n##############################################################################################\n\nlibrary(data.table)\n\n# Read the files into data tables\nasignee <- fread(\"C:/Users/LENOVO/OneDrive/Desktop/business_module/ss23-bdsb-SubramanyaGurumurthy/Patent_data_reduced/assignee.tsv\")\npatent_asignee <- fread(\"C:/Users/LENOVO/OneDrive/Desktop/business_module/ss23-bdsb-SubramanyaGurumurthy/Patent_data_reduced/patent_assignee.tsv\")\nuspc <- fread(\"C:/Users/LENOVO/OneDrive/Desktop/business_module/ss23-bdsb-SubramanyaGurumurthy/Patent_data_reduced/uspc.tsv\")\n\n# Merge the data tables\nmerged_dt <- merge(asignee, patent_asignee, by.x = \"id\", by.y = \"assignee_id\")\nmerged_dt <- merge(merged_dt, uspc, by = \"patent_id\")\n\n# Count the number of patents per company\npatents_per_company <- merged_dt[, .(patent_count = .N), by = organization]\ntop_10_companies <- patents_per_company[order(-patent_count)][1:10]\n\n# Get the top 5 USPTO tech main classes for the top 10 companies\ntop_10_company_ids <- top_10_companies$organization\ntop_5_main_classes <- merged_dt[organization %in% top_10_company_ids, .N, by = mainclass_id][order(-N)][1:5]\n\n# Print the results\nmost_innovative_tech_sector <- top_5_main_classes$mainclass_id\nprint(paste(\"Most innovative tech sectors are: \", most_innovative_tech_sector))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> [1] \"Most innovative tech sectors are:  257\"\n#> [2] \"Most innovative tech sectors are:  455\"\n#> [3] \"Most innovative tech sectors are:  370\"\n#> [4] \"Most innovative tech sectors are:  348\"\n#> [5] \"Most innovative tech sectors are:  709\"\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}